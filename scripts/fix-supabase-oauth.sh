#!/bin/bash

echo "üîß CONFIGURACI√ìN URGENTE DE SUPABASE OAUTH"
echo "=========================================="
echo ""
echo "El problema est√° claro: OAuth est√° retornando a la ra√≠z (/) en lugar de /auth/callback"
echo ""
echo "üìç Ve AHORA a: https://supabase.com/dashboard/project/gtyvdircfhmdjiaelqkg/auth/url-configuration"
echo ""
echo "‚úÖ ACTUALIZA estos campos:"
echo ""
echo "1Ô∏è‚É£ Site URL:"
echo "   https://autamedica-web-app.pages.dev"
echo ""
echo "2Ô∏è‚É£ Redirect URLs (CR√çTICO - a√±ade TODAS):"
echo "   https://autamedica-web-app.pages.dev/auth/callback"
echo "   https://autamedica-web-app.pages.dev/"
echo "   http://localhost:3000/auth/callback"
echo ""
echo "3Ô∏è‚É£ En la pesta√±a 'Providers' > Google:"
echo "   - Aseg√∫rate que est√© habilitado"
echo "   - Client ID y Secret configurados"
echo "   - Redirect URL: https://gtyvdircfhmdjiaelqkg.supabase.co/auth/v1/callback"
echo ""
echo "‚ö†Ô∏è  IMPORTANTE: Despu√©s de guardar los cambios en Supabase:"
echo "   1. Espera 30 segundos para que se propaguen"
echo "   2. Limpia cach√© del navegador (Ctrl+Shift+R)"
echo "   3. Intenta login de nuevo desde: https://autamedica-web-app.pages.dev/auth/login"
echo ""
echo "üéØ El token est√° llegando correctamente, solo necesitamos que Supabase"
echo "   redirija a /auth/callback en lugar de /"
echo ""