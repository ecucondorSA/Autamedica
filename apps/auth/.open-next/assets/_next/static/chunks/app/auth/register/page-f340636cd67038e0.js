(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{1184:(e,r,a)=>{"use strict";a.d(r,{U:()=>o});var t=a(4296),s=a(1899),n=a.n(s);function o(e){let{size:r="md"}=e,{dimension:a,containerClass:s,borderClass:o}={sm:{dimension:64,containerClass:"w-16 h-16",borderClass:"border-2"},md:{dimension:96,containerClass:"w-24 h-24",borderClass:"border-[3px]"},lg:{dimension:128,containerClass:"w-32 h-32",borderClass:"border-4"}}[r];return(0,t.jsx)("div",{className:"\n      ".concat(s,"\n      ").concat(o,"\n      mx-auto\n      mb-6\n      rounded-full\n      border-[var(--au-border)]\n      bg-[var(--au-surface)]\n      p-2\n      shadow-lg\n      flex\n      items-center\n      justify-center\n      overflow-hidden\n    "),children:(0,t.jsx)(n(),{src:"/autamedica-logo.png",alt:"AUTAMEDICA Logo",width:a,height:a,className:"object-contain rounded-full",priority:!0})})}},1899:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var a in r)Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}(r,{default:function(){return i},getImageProps:function(){return l}});let t=a(6785),s=a(7853),n=a(461),o=t._(a(2119));function l(e){let{props:r}=(0,s.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,a]of Object.entries(r))void 0===a&&delete r[e];return{props:r}}let i=n.Image},1922:(e,r,a)=>{"use strict";a.d(r,{S:()=>n});var t=a(4296),s=a(3204);let n=e=>{let{children:r,fallback:a}=e,n=a||(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-1",style:{backgroundColor:"#0f0f10"},children:(0,t.jsx)("div",{className:"max-w-sm w-full",children:(0,t.jsx)("div",{className:"rounded-xl shadow-xl p-4 border",style:{backgroundColor:"#1a1a1a",borderColor:"#333333"},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-300 mx-auto"}),(0,t.jsx)("p",{className:"text-gray-400 mt-2 text-sm",children:"Cargando..."})]})})})});return(0,t.jsx)(s.Suspense,{fallback:n,children:r})}},4209:(e,r,a)=>{"use strict";var t=a(2349);a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(r,{useSearchParams:function(){return t.useSearchParams}})},4612:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var t=a(4296),s=a(3204),n=a(5927),o=a(4209),l=a(7301),i=a(1922),d=a(1184);function c(){let[e,r]=(0,s.useState)(""),[a,i]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[m,x]=(0,s.useState)(!1),[h,v]=(0,s.useState)(null),[b,f]=(0,s.useState)(null),p=(0,o.useSearchParams)().get("role");(0,s.useEffect)(()=>{p&&(0,l.Sj)(p)||(window.location.href="/auth/select-role")},[p]);let g=async r=>{if(r.preventDefault(),x(!0),f(null),v(null),a!==c){f("Las contrase\xf1as no coinciden"),x(!1);return}if(a.length<6){f("La contrase\xf1a debe tener al menos 6 caracteres"),x(!1);return}try{let r=(0,n.createBrowserClient)("https://ewpsepaieakqbywxnidu.supabase.co","sb_publishable_Koq4PaA5lOihpU6m4UoiqA_pdi0rZsk"),{error:t}=await r.auth.signUp({email:e,password:a,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback?role=").concat(p),data:{role:p}}});if(t)throw t;v("Te hemos enviado un enlace de confirmaci\xf3n a tu email. Revisa tu bandeja de entrada para activar tu cuenta.")}catch(e){var t;l.vF.error("Registration error:",e),(null==(t=e.message)?void 0:t.includes("User already registered"))?f("Este email ya est\xe1 registrado. \xbfQuieres iniciar sesi\xf3n?"):f(e.message||"Error al crear la cuenta")}finally{x(!1)}};if(!p||!(0,l.Sj)(p))return null;let j=(0,l.LP)(p);return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[var(--au-bg)]",children:(0,t.jsx)("div",{className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"bg-[var(--au-surface)] border-2 border-[var(--au-border)] rounded-2xl shadow-2xl p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)(d.U,{size:"md"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-[var(--au-text-primary)] mb-2",children:"\xdanete a AutaMedica"}),(0,t.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-[var(--au-hover)] rounded-full border-2 border-[var(--au-border)] mb-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),(0,t.jsxs)("span",{className:"text-sm font-medium text-[var(--au-text-secondary)]",children:["Registro como ",j]})]}),(0,t.jsxs)("p",{className:"text-[var(--au-text-secondary)] text-sm",children:["\xbfNo es tu rol?"," ",(0,t.jsx)("a",{href:"/auth/select-role",className:"text-[var(--au-accent)] hover:text-[var(--au-text-primary)] font-medium transition-colors",children:"Cambiar aqu\xed"})]})]}),b&&(0,t.jsx)("div",{className:"mb-6 bg-red-500/10 border-2 border-red-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("p",{className:"text-sm text-red-300",children:b})]})}),h&&(0,t.jsx)("div",{className:"mb-6 bg-green-500/10 border-2 border-green-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-green-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("p",{className:"text-sm text-green-300",children:h})]})}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-[var(--au-text-secondary)] mb-2",children:"Correo electr\xf3nico"}),(0,t.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>r(e.target.value),required:!0,className:"w-full px-4 py-3 bg-[var(--au-hover)] border-2 border-[var(--au-border)] rounded-xl text-[var(--au-text-primary)] placeholder:text-[var(--au-text-tertiary)] focus:outline-none focus:ring-2 focus:ring-[var(--au-accent)] focus:border-transparent transition-all",placeholder:"tu@email.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-[var(--au-text-secondary)] mb-2",children:"Contrase\xf1a"}),(0,t.jsx)("input",{id:"password",type:"password",value:a,onChange:e=>i(e.target.value),required:!0,className:"w-full px-4 py-3 bg-[var(--au-hover)] border-2 border-[var(--au-border)] rounded-xl text-[var(--au-text-primary)] placeholder:text-[var(--au-text-tertiary)] focus:outline-none focus:ring-2 focus:ring-[var(--au-accent)] focus:border-transparent transition-all",placeholder:"M\xednimo 6 caracteres"}),a.length>0&&a.length<6&&(0,t.jsxs)("p",{className:"mt-2 text-xs text-yellow-400 flex items-center",children:[(0,t.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})}),"Necesitas al menos 6 caracteres"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-[var(--au-text-secondary)] mb-2",children:"Confirmar contrase\xf1a"}),(0,t.jsx)("input",{id:"confirmPassword",type:"password",value:c,onChange:e=>u(e.target.value),required:!0,className:"w-full px-4 py-3 bg-[var(--au-hover)] border-2 border-[var(--au-border)] rounded-xl text-[var(--au-text-primary)] placeholder:text-[var(--au-text-tertiary)] focus:outline-none focus:ring-2 focus:ring-[var(--au-accent)] focus:border-transparent transition-all",placeholder:"Repite tu contrase\xf1a"}),c&&a!==c&&(0,t.jsxs)("p",{className:"mt-2 text-xs text-red-400 flex items-center",children:[(0,t.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Las contrase\xf1as no coinciden"]})]}),(0,t.jsx)("button",{type:"submit",disabled:m||!e||a.length<6||a!==c,className:"w-full px-6 py-3 bg-[var(--au-accent)] hover:bg-[var(--au-text-primary)] text-[var(--au-bg)] font-semibold rounded-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Creando cuenta...":"Crear mi cuenta"})]}),(0,t.jsxs)("div",{className:"mt-8 pt-6 border-t-2 border-[var(--au-border)] text-center space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-[var(--au-text-tertiary)]",children:"\xbfYa tienes cuenta en AutaMedica?"}),(0,t.jsxs)("a",{href:"/auth/login?role=".concat(p),className:"inline-flex items-center justify-center w-full px-4 py-3 text-sm font-medium text-[var(--au-text-secondary)] hover:text-[var(--au-text-primary)] bg-[var(--au-hover)] hover:bg-[var(--au-hover-border)] border-2 border-[var(--au-border)] hover:border-[var(--au-accent)] rounded-xl transition-all duration-200",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Iniciar sesi\xf3n"]}),(0,t.jsxs)("div",{className:"flex items-center justify-center text-xs text-[var(--au-text-tertiary)] mt-4",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-1.5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Conexi\xf3n segura y cifrada"]})]})]})})})}function u(){return(0,t.jsx)(i.S,{children:(0,t.jsx)(c,{})})}},7874:(e,r,a)=>{Promise.resolve().then(a.bind(a,4612))}},e=>{e.O(0,[67,461,927,301,356,702,358],()=>e(e.s=7874)),_N_E=e.O()}]);