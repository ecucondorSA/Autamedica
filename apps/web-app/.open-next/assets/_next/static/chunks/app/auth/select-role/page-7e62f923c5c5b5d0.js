(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2179:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var a in r)Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}(r,{callServer:function(){return t.callServer},createServerReference:function(){return _.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}});let t=a(7744),n=a(2452),_=a(7236)},2971:(e,r,a)=>{"use strict";a.d(r,{AuthProvider:()=>o,useAuth:()=>E});var t=a(5686),n=a(4406);let _=(0,n.createContext)(null);function o(e){let{children:r}=e,[a]=(0,n.useState)({isAuthenticated:!1,isLoading:!1,user:null,error:null}),o=async()=>{console.log("Logout functionality to be implemented")},E={...a,logout:o};return(0,t.jsx)(_.Provider,{value:E,children:r})}function E(){let e=(0,n.useContext)(_);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},3121:(e,r,a)=>{Promise.resolve().then(a.bind(a,3236)),Promise.resolve().then(a.bind(a,4401)),Promise.resolve().then(a.bind(a,2971))},3236:(e,r,a)=>{"use strict";a.d(r,{RoleSelectionForm:()=>l});var t=a(5686),n=a(4406),_=a(2179);let o=(0,_.createServerReference)("40a676e80d7e06aef473d8f47aec6acd0d39531aca",_.callServer,void 0,_.findSourceMapURL,"setRole"),E=[{value:"patient",label:"Paciente",description:"Accede a tu historial m\xe9dico, agenda citas y consulta con profesionales",icon:"\uD83C\uDFE5",color:"border-green-200 hover:border-green-400 hover:bg-green-50"},{value:"doctor",label:"M\xe9dico",description:"Gestiona pacientes, consultas y utiliza herramientas m\xe9dicas avanzadas",icon:"\uD83D\uDC69‍⚕️",color:"border-blue-200 hover:border-blue-400 hover:bg-blue-50"},{value:"company_admin",label:"Empresa",description:"Administra empleados, planes de salud y servicios corporativos",icon:"\uD83C\uDFE2",color:"border-purple-200 hover:border-purple-400 hover:bg-purple-50"},{value:"platform_admin",label:"Administrador",description:"Gestiona la plataforma completa y configuraciones avanzadas",icon:"⚙️",color:"border-gray-200 hover:border-gray-400 hover:bg-gray-50"}];function l(e){let{user:r}=e,[a,_]=(0,n.useState)(null),[l,i]=(0,n.useTransition)();return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Registrado como: ",(0,t.jsx)("span",{className:"font-semibold",children:r.email})]})}),(0,t.jsx)("div",{className:"space-y-3",children:E.map(e=>{let r=a===e.value,n=l&&r;return(0,t.jsx)("button",{onClick:()=>{var r;return r=e.value,void(!l&&(_(r),i(()=>{o(r)})))},disabled:l,className:"\n                w-full p-4 rounded-xl border-2 transition-all duration-200 text-left\n                ".concat(r?"border-blue-500 bg-blue-50":e.color,"\n                ").concat(l?"opacity-50 cursor-not-allowed":"cursor-pointer","\n                disabled:opacity-50 disabled:cursor-not-allowed\n              "),children:(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsx)("div",{className:"text-2xl",children:e.icon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:e.label}),n&&(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})]})},e.value)})}),l&&(0,t.jsx)("div",{className:"text-center py-4",children:(0,t.jsx)("p",{className:"text-sm text-blue-600 font-medium",children:"Configurando tu cuenta..."})}),(0,t.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,t.jsx)("strong",{children:"Nota:"})," Podr\xe1s cambiar tu rol m\xe1s tarde desde la configuraci\xf3n de tu cuenta."]})})]})}},4401:(e,r,a)=>{"use strict";a.r(r),a.d(r,{createBrowserClient:()=>s,signInWithOAuth:()=>c});var t=a(8157),n=a(3103);let _=new Set(["NEXT_PUBLIC_API_URL","NEXT_PUBLIC_APP_URL","NEXT_PUBLIC_VERCEL_URL","NEXT_PUBLIC_DOCTORS_URL","NEXT_PUBLIC_PATIENTS_URL","NEXT_PUBLIC_COMPANIES_URL","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","NEXT_PUBLIC_SENTRY_DSN","NEXT_PUBLIC_RECAPTCHA_SITE_KEY","NEXT_PUBLIC_RECAPTCHA_SITE_KEY_WEB","NEXT_PUBLIC_RECAPTCHA_SITE_KEY_IOS","NEXT_PUBLIC_RECAPTCHA_SITE_KEY_ANDROID","NEXT_PUBLIC_GOOGLE_MAPS_API_KEY","NEXT_PUBLIC_MAPBOX_ACCESS_TOKEN","NEXT_PUBLIC_ICE_SERVERS","NEXT_PUBLIC_STUN_SERVER","NEXT_PUBLIC_WEBRTC_SIGNALING_URL","NEXT_PUBLIC_MEDIASOUP_URL","NEXT_PUBLIC_OPENAI_API_KEY","NEXT_PUBLIC_AI_PREDICTOR_ENABLED","NEXT_PUBLIC_PATIENT_CRYSTAL_BALL_ENABLED","NEXT_PUBLIC_DIGITAL_PRESCRIPTION_ENABLED","NEXT_PUBLIC_AI_ASSISTANT_ENABLED","NEXT_PUBLIC_MARKETPLACE_ENABLED","NEXT_PUBLIC_HOSPITAL_REDISTRIBUTION_ENABLED","NEXT_PUBLIC_WHATSAPP_BUSINESS_ENABLED","NEXT_PUBLIC_IOT_SENSORS_ENABLED","NEXT_PUBLIC_HOSPITAL_API_ENABLED","NEXT_PUBLIC_ADMIN_PANEL_ENABLED","NEXT_PUBLIC_PROMETHEUS_ENABLED","NEXT_PUBLIC_HIPAA_AUDIT_ENABLED","NEXT_PUBLIC_DATABASE_ADMIN_ENABLED","NEXT_PUBLIC_AUDIT_LOGS_ENABLED"]),o=new Set(["JWT_SECRET","JWT_REFRESH_SECRET","ENCRYPTION_KEY","SESSION_SECRET","NEXTAUTH_SECRET","SUPABASE_SERVICE_ROLE_KEY","DATABASE_URL","REDIS_URL","UPSTASH_REDIS_REST_TOKEN","OPENAI_API_KEY","ANTHROPIC_API_KEY","MERCADOPAGO_ACCESS_TOKEN","MERCADOPAGO_WEBHOOK_SECRET","MERCADOPAGO_TEST_ACCESS_TOKEN","TURN_PASSWORD","TURN_SECRET","SMTP_PASS","WHATSAPP_BUSINESS_TOKEN","WHATSAPP_WEBHOOK_VERIFY_TOKEN","RECAPTCHA_SECRET_KEY","SENTRY_AUTH_TOKEN"]);function E(e){if(!_.has(e))throw Error("Invalid client environment variable: ".concat(e,". Only NEXT_PUBLIC_* variables are allowed on client side."));if(o.has(e.replace("NEXT_PUBLIC_","")))throw Error("Security violation: ".concat(e," appears to be a server-only variable exposed to client"));let r=n.env[e];if(!r)throw Error("Missing required client environment variable: ".concat(e));return r}class l{error(e){for(var r=arguments.length,a=Array(r>1?r-1:0),t=1;t<r;t++)a[t-1]=arguments[t];console.error("[ERROR] ".concat(e),...a)}warn(e){for(var r=arguments.length,a=Array(r>1?r-1:0),t=1;t<r;t++)a[t-1]=arguments[t];console.warn("[WARN] ".concat(e),...a)}info(e){for(var r=arguments.length,a=Array(r>1?r-1:0),t=1;t<r;t++)a[t-1]=arguments[t];console.info("[INFO] ".concat(e),...a)}debug(e){for(var r=arguments.length,a=Array(r>1?r-1:0),t=1;t<r;t++)a[t-1]=arguments[t];console.debug("[DEBUG] ".concat(e),...a)}}new l,a(3103);let i={PATIENT:"patient",DOCTOR:"doctor",COMPANY_ADMIN:"company_admin",PLATFORM_ADMIN:"platform_admin"};function s(){return(0,t.createBrowserClient)(E("NEXT_PUBLIC_SUPABASE_URL"),E("NEXT_PUBLIC_SUPABASE_ANON_KEY"))}async function c(e,r){let a=s(),t=new URL(E("NEXT_PUBLIC_AUTH_CALLBACK_URL"));return r&&t.searchParams.set("portal",r),await a.auth.signInWithOAuth({provider:e,options:{redirectTo:t.toString()}})}i.PATIENT,i.DOCTOR,i.COMPANY_ADMIN,i.PLATFORM_ADMIN,i.PATIENT,i.DOCTOR,i.COMPANY_ADMIN,i.PLATFORM_ADMIN,i.PATIENT,i.DOCTOR,i.COMPANY_ADMIN,i.PLATFORM_ADMIN}},e=>{e.O(0,[11,157,108,670,358],()=>e(e.s=3121)),_N_E=e.O()}]);