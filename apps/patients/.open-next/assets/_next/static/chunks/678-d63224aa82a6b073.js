"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{983:(e,s,t)=>{t.d(s,{Y:()=>i});var a=t(5129);let r=(0,a.XK)("NEXT_PUBLIC_AUTH_HUB_URL","https://auth.autamedica.com"),l=(0,a.XK)("NEXT_PUBLIC_PATIENTS_URL","https://patients.autamedica.com"),n=(0,a.XK)("NEXT_PUBLIC_SUPABASE_URL","https://gtyvdircfhmdjiaelqkg.supabase.co"),o=(0,a.XK)("NEXT_PUBLIC_SUPABASE_ANON_KEY","REPLACE_WITH_ROTATED_KEY.7UFMVZsWTWOAynnhzkG76I_lhVCYtd_RmTt9EH3wJD4"),i={nodeEnv:"production",authHubOrigin:r,appOrigin:l,supabase:{url:n,anonKey:o},signalingUrl:(0,a.XK)("NEXT_PUBLIC_SIGNALING_URL","ws://localhost:3005/signal"),authDevBypassEnabled:"true"===(0,a.XK)("NEXT_PUBLIC_AUTH_DEV_BYPASS","false")}},3842:(e,s,t)=>{t.d(s,{U:()=>n});var a=t(2613),r=t(983);let l=null;function n(){return r.Y.authDevBypassEnabled?{from:e=>({select:()=>Promise.resolve({data:[],error:null}),insert:()=>Promise.resolve({data:null,error:null}),update:()=>Promise.resolve({data:null,error:null}),delete:()=>Promise.resolve({data:null,error:null}),upsert:()=>Promise.resolve({data:null,error:null})}),auth:{getSession:()=>Promise.resolve({data:{session:{user:{id:"dev-patient-1",email:"patient@dev.local"},access_token:"dev-token"}},error:null}),signOut:()=>Promise.resolve({error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},storage:{from:e=>({upload:()=>Promise.resolve({data:null,error:null}),download:()=>Promise.resolve({data:null,error:null}),remove:()=>Promise.resolve({data:null,error:null})})}}:(l||(l=(0,a.UU)(r.Y.supabase.url,r.Y.supabase.anonKey,{auth:{persistSession:!1}})),l)}n()},5320:(e,s,t)=>{t.d(s,{o:()=>r});var a=t(1111);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:52,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"male",t=(0,a.useMemo)(()=>{let t=[{id:"blood-pressure",title:"Presi\xf3n Arterial",status:"up_to_date",priority:"high",category:"cardiovascular",last_done_date:"2025-09-28",next_due_date:"2025-10-28"},{id:"cholesterol",title:"Colesterol",status:"up_to_date",priority:"high",category:"cardiovascular",last_done_date:"2025-08-15",next_due_date:"2026-08-15"},{id:"glucose",title:"Glucosa en sangre",status:"due_soon",priority:"high",category:"metabolic",last_done_date:"2025-04-10",next_due_date:"2025-10-10"}];return e>=50&&t.push({id:"colorectal",title:"C\xe1ncer Colorrectal (Colonoscopia)",status:"overdue",priority:"high",category:"cancer",last_done_date:"2020-05-20",next_due_date:"2025-05-20"}),e>=50&&"male"===s&&t.push({id:"psa",title:"PSA (Pr\xf3stata)",status:"due_soon",priority:"medium",category:"cancer",last_done_date:"2024-10-01",next_due_date:"2025-10-01"}),"female"===s&&e>=40&&t.push({id:"mammography",title:"Mamograf\xeda",status:"up_to_date",priority:"high",category:"cancer",last_done_date:"2025-03-15",next_due_date:"2027-03-15"}),t},[e,s]),r=(0,a.useMemo)(()=>{let e=t.length,s=t.filter(e=>"up_to_date"===e.status).length,a=t.filter(e=>"due_soon"===e.status).length,r=t.filter(e=>"overdue"===e.status).length;return{total:e,upToDate:s,dueSoon:a,overdue:r,completionRate:Math.round(s/e*100),cardiovascularScreenings:t.filter(e=>"cardiovascular"===e.category),cancerScreenings:t.filter(e=>"cancer"===e.category)}},[t]),l=(0,a.useMemo)(()=>{let e=[],s=r.cardiovascularScreenings.filter(e=>"up_to_date"===e.status).length,t=r.cardiovascularScreenings.length;e.push({id:"cardiovascular-warrior",emoji:"\uD83E\uDD47",title:"Guerrero CV",description:"Todos los controles cardiovasculares al d\xeda",level:s===t?"gold":"silver",earned:s===t,progress:s,maxProgress:t});let a=r.cancerScreenings.filter(e=>"up_to_date"===e.status).length,l=r.cancerScreenings.length;e.push({id:"early-detection",emoji:"\uD83C\uDF97️",title:"Detecci\xf3n Temprana",description:"Screenings de c\xe1ncer completados",level:a===l?"gold":a>0?"silver":"bronze",earned:a>0,progress:a,maxProgress:l});let n=r.completionRate;return e.push({id:"adherence",emoji:"\uD83E\uDD48",title:"Adherencia",description:"".concat(n,"% de controles al d\xeda"),level:n>=80?"gold":n>=60?"silver":"bronze",earned:n>=60,progress:r.upToDate,maxProgress:r.total}),e.push({id:"no-delays",emoji:"⏰",title:"Sin Retrasos",description:"Ning\xfan screening atrasado",level:"gold",earned:0===r.overdue,progress:r.total-r.overdue,maxProgress:r.total}),e.sort((e,s)=>Number(s.earned)-Number(e.earned))},[r]),n=(0,a.useMemo)(()=>[{id:"medications",label:"Medicamentos",completed:7,total:7,category:"adherence"},{id:"blood-pressure",label:"Registrar PA",completed:5,total:7,category:"monitoring"},{id:"exercise",label:"Ejercicio 30min",completed:3,total:5,category:"lifestyle"},{id:"screenings-due",label:"Agendar screenings",completed:r.total-r.overdue-r.dueSoon,total:r.total,category:"preventive"}],[r]);return{screenings:t,stats:r,achievements:l,weeklyGoals:n}}},7741:(e,s,t)=>{t.d(s,{U:()=>j});var a=t(3919),r=t(1111),l=t(8777),n=t(5770),o=t(6307),i=t(3029),d=t(8513),c=t(122),m=t(7717),x=t(3335),u=t(3784),h=t(3675),p=t(901),b=t(6730),g=t(5320);function j(e){let{context:s="dashboard"}=e,[t,m]=(0,r.useState)("community"),x=(()=>{switch(s){case"video":return[{id:"chat",label:"Chat",icon:l.A},{id:"medical",label:"Info M\xe9dica",icon:n.A}];case"appointments":return[{id:"actions",label:"Preguntas",icon:o.A},{id:"medical",label:"Preparaci\xf3n",icon:n.A}];case"history":return[{id:"medical",label:"Gr\xe1ficos",icon:i.A},{id:"actions",label:"Accesos",icon:d.A}];default:return[{id:"community",label:"Comunidad",icon:l.A},{id:"progress",label:"Progreso",icon:c.A},{id:"actions",label:"Acciones",icon:o.A}]}})();return(0,a.jsxs)("aside",{className:"flex w-[30%] min-w-[320px] max-w-[400px] flex-col border-l border-stone-300 bg-white shadow-sm",children:[(0,a.jsx)("div",{className:"flex border-b border-stone-200",children:x.map(e=>{let s=e.icon,r=t===e.id;return(0,a.jsxs)("button",{onClick:()=>m(e.id),className:"\n                flex flex-1 items-center justify-center gap-2 px-4 py-3 text-xs font-semibold transition-all\n                ".concat(r?"border-b-2 border-stone-800 bg-stone-50 text-stone-900":"text-stone-600 hover:bg-stone-50 hover:text-stone-900","\n              "),children:[(0,a.jsx)(s,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.id)})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:["community"===t&&(0,a.jsx)(v,{}),"progress"===t&&(0,a.jsx)(N,{}),"actions"===t&&(0,a.jsx)(f,{}),"medical"===t&&(0,a.jsx)(y,{}),"chat"===t&&(0,a.jsx)(_,{})]})]})}function v(){return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-3 text-sm font-semibold text-stone-900",children:"\uD83D\uDCAC Tu Comunidad"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(A,{group:"Diabetes Tipo 2",members:1200,author:"Mar\xeda, 45 a\xf1os",content:"\xbfAlguien m\xe1s tiene bajones de az\xfacar despu\xe9s del ejercicio?",replies:23,likes:45}),(0,a.jsx)(A,{group:"Hipertensi\xf3n",members:850,author:"Carlos, 52 a\xf1os",content:"Mi m\xe9dico cambi\xf3 mi dosis de Lisinopril, \xbfexperiencias?",replies:18,likes:32})]})]}),(0,a.jsx)("button",{className:"w-full btn-primary-ivory py-2.5 text-sm",children:"+ Crear publicaci\xf3n"})]})}function N(){let{achievements:e,weeklyGoals:s,stats:t}=(0,g.o)(52,"male"),r=250*t.upToDate+750,l=r/2e3*100;return(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-3 text-sm font-semibold text-stone-900",children:"\uD83C\uDFC6 Tu Progreso"}),(0,a.jsxs)("div",{className:"mb-4 rounded-lg bg-gradient-to-br from-stone-100 to-stone-50 p-4 ring-1 ring-stone-300",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"text-3xl",children:"\uD83D\uDD25"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-stone-800",children:[15," d\xedas"]}),(0,a.jsx)("p",{className:"text-xs text-stone-600",children:"Racha actual"})]})]}),(0,a.jsx)("div",{className:"mt-3 h-2 overflow-hidden rounded-full bg-stone-200",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-stone-600 to-stone-800",style:{width:"".concat(50,"%")}})}),(0,a.jsxs)("p",{className:"mt-2 text-xs text-stone-600",children:[15,"/30 d\xedas para Nivel Oro"]})]}),(0,a.jsxs)("div",{className:"mb-4 rounded-lg bg-stone-50 border border-stone-200 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-semibold text-stone-900",children:["\uD83D\uDC8E Nivel: ",r>=2e3?"Oro":r>=1e3?"Plata":"Bronce"]}),(0,a.jsxs)("span",{className:"text-xs text-stone-600",children:[r,"/2,000 pts"]})]}),(0,a.jsx)("div",{className:"h-2 overflow-hidden rounded-full bg-stone-200",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-stone-400 to-stone-300",style:{width:"".concat(l,"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"mb-2 text-xs font-semibold text-stone-700",children:"\uD83C\uDFAF METAS SEMANALES"}),(0,a.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,a.jsx)(D,{label:e.label,completed:e.completed,total:e.total},e.id))})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"mb-2 text-xs font-semibold text-stone-700",children:"\uD83C\uDFC5 LOGROS VINCULADOS A SCREENINGS"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:e.slice(0,4).map(e=>(0,a.jsxs)("div",{className:"rounded-lg p-3 text-center ".concat(e.earned?"gold"===e.level?"bg-yellow-50 border-2 border-yellow-400":"bg-stone-100 border-2 border-stone-400":"bg-stone-50 border border-stone-200 opacity-60"),children:[(0,a.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,a.jsx)("p",{className:"mt-1 text-[10px] font-medium ".concat(e.earned?"gold"===e.level?"text-yellow-700":"text-stone-600":"text-stone-400"),children:e.title}),(0,a.jsxs)("p",{className:"text-[9px] text-stone-500 mt-0.5",children:[e.progress,"/",e.maxProgress]})]},e.id))}),(0,a.jsxs)("div",{className:"mt-3 rounded-lg bg-blue-50 border border-blue-200 p-3",children:[(0,a.jsxs)("p",{className:"text-xs text-blue-900 font-medium",children:["\uD83D\uDCCA ",t.upToDate,"/",t.total," screenings al d\xeda"]}),t.overdue>0&&(0,a.jsxs)("p",{className:"text-xs text-red-600 mt-1",children:["⚠️ ",t.overdue," atrasados (PSA, Colonoscopia)"]}),t.dueSoon>0&&(0,a.jsxs)("p",{className:"text-xs text-amber-600 mt-1",children:["⏰ ",t.dueSoon," pr\xf3ximos a vencer"]})]})]})]})})}function f(){return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-stone-900",children:"⚡ Acciones R\xe1pidas"}),(0,a.jsx)(w,{icon:(0,a.jsx)(m.A,{className:"h-4 w-4"}),label:"Registrar presi\xf3n arterial"}),(0,a.jsx)(w,{icon:(0,a.jsx)(x.A,{className:"h-4 w-4"}),label:"Confirmar medicamento"}),(0,a.jsx)(w,{icon:(0,a.jsx)(n.A,{className:"h-4 w-4"}),label:"Agregar s\xedntoma"}),(0,a.jsx)(w,{icon:(0,a.jsx)(i.A,{className:"h-4 w-4"}),label:"Subir resultado"}),(0,a.jsx)(w,{icon:(0,a.jsx)(l.A,{className:"h-4 w-4"}),label:"Publicar en comunidad"})]})}function y(){return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-3 text-sm font-semibold text-stone-900",children:"\uD83E\uDE7A Signos Vitales"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(C,{icon:(0,a.jsx)(u.A,{className:"h-5 w-5 text-red-400"}),label:"Presi\xf3n Arterial",value:"120/80",status:"Normal",statusColor:"text-green-400"}),(0,a.jsx)(C,{icon:(0,a.jsx)(m.A,{className:"h-5 w-5 text-blue-400"}),label:"Frecuencia Card\xedaca",value:"72 lpm",status:"",statusColor:""})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-3 text-sm font-semibold text-stone-900",children:"\uD83D\uDC8A Medicamentos Hoy"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(P,{name:"Lisinopril 10mg",time:"Tomado",completed:!0}),(0,a.jsx)(P,{name:"Metformina 500mg",time:"2:00 PM"}),(0,a.jsx)(P,{name:"Aspirina 100mg",time:"8:00 PM"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-3 text-sm font-semibold text-stone-900",children:"⚠️ Alergias"}),(0,a.jsx)("div",{className:"rounded-lg bg-red-50 p-3 border-2 border-red-300",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-red-900",children:"Penicilina"})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-3 text-sm font-semibold text-stone-900",children:"\uD83D\uDC41️ Visibilidad"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S,{doctor:"Dr. Garc\xeda",specialty:"Cardiolog\xeda",views:12}),(0,a.jsx)(S,{doctor:"Dra. Mart\xednez",specialty:"Med. General",views:8})]}),(0,a.jsxs)("button",{className:"mt-2 w-full rounded-lg bg-stone-100 border border-stone-300 py-2 text-xs font-medium text-stone-700 transition hover:bg-stone-200",children:[(0,a.jsx)(d.A,{className:"mr-2 inline-block h-3 w-3"}),"Ver log completo"]})]})]})}function _(){return(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("h3",{className:"text-sm font-semibold text-stone-900",children:"\uD83D\uDCAC Chat en Vivo"})}),(0,a.jsxs)("div",{className:"flex-1 space-y-3 overflow-y-auto",children:[(0,a.jsx)(E,{sender:"Dr. Garc\xeda",message:"\xbfC\xf3mo est\xe1 la presi\xf3n arterial?"}),(0,a.jsx)(E,{sender:"T\xfa",message:"Bien, 120/80 esta ma\xf1ana",isOwn:!0})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("input",{type:"text",placeholder:"Escribe aqu\xed...",className:"w-full rounded-lg border border-stone-300 bg-white px-4 py-2 text-sm text-stone-900 placeholder-stone-500 focus:border-amber-600 focus:outline-none focus:ring-2 focus:ring-amber-600/30"})})]})}function A(e){let{group:s,members:t,author:r,content:l,replies:n,likes:o}=e;return(0,a.jsxs)("div",{className:"rounded-lg bg-stone-50 border border-stone-200 p-3 transition hover:bg-stone-100",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center gap-2 text-xs text-stone-600",children:[(0,a.jsx)(p.A,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:[s," (",t," miembros)"]})]}),(0,a.jsx)("p",{className:"mb-1 text-xs font-medium text-stone-700",children:r}),(0,a.jsx)("p",{className:"mb-3 text-sm text-stone-900",children:l}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-stone-600",children:[(0,a.jsxs)("span",{children:["\uD83D\uDCAC ",n," respuestas"]}),(0,a.jsxs)("span",{children:["\uD83D\uDC4D ",o]})]})]})}function D(e){let{label:s,completed:t,total:r}=e,l=t/r*100,n=t===r;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-1 flex items-center justify-between text-xs",children:[(0,a.jsxs)("span",{className:n?"text-emerald-600 font-semibold":"text-stone-700",children:[n&&"✅ ",s]}),(0,a.jsxs)("span",{className:"text-stone-600",children:[t,"/",r]})]}),(0,a.jsx)("div",{className:"h-1.5 overflow-hidden rounded-full bg-stone-200",children:(0,a.jsx)("div",{className:"h-full transition-all ".concat(n?"bg-emerald-600":"bg-stone-600"),style:{width:"".concat(l,"%")}})})]})}function w(e){let{icon:s,label:t}=e;return(0,a.jsxs)("button",{className:"flex w-full items-center gap-3 rounded-lg bg-stone-50 border border-stone-200 px-4 py-3 text-left text-sm font-medium text-stone-700 transition hover:bg-stone-100 hover:border-stone-700 hover:text-stone-900",children:[(0,a.jsx)("span",{className:"text-stone-700",children:s}),t]})}function C(e){let{icon:s,label:t,value:r,status:l,statusColor:n}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3 rounded-lg bg-stone-50 border border-stone-200 p-3",children:[(0,a.jsx)("div",{children:s}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-xs text-stone-600",children:t}),(0,a.jsx)("p",{className:"text-lg font-semibold text-stone-900",children:r}),l&&(0,a.jsx)("p",{className:"text-xs ".concat(n),children:l})]})]})}function P(e){let{name:s,time:t,completed:r}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg p-2 ".concat(r?"bg-green-50 border border-green-200":"bg-stone-50 border border-stone-200"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[r?(0,a.jsx)("div",{className:"h-4 w-4 rounded-full bg-green-500 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-[10px] text-white",children:"✓"})}):(0,a.jsx)(b.A,{className:"h-4 w-4 text-orange-500"}),(0,a.jsx)("span",{className:"text-sm text-stone-900",children:s})]}),(0,a.jsx)("span",{className:"text-xs ".concat(r?"text-green-600 font-semibold":"text-stone-600"),children:t})]})}function S(e){let{doctor:s,specialty:t,views:r}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-stone-50 border border-stone-200 p-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-stone-900",children:s}),(0,a.jsx)("p",{className:"text-xs text-stone-600",children:t})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-stone-800",children:r}),(0,a.jsx)("p",{className:"text-[10px] text-stone-500",children:"veces"})]})]})}function E(e){let{sender:s,message:t,isOwn:r}=e;return(0,a.jsx)("div",{className:"flex ".concat(r?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-[80%] rounded-lg p-3 ".concat(r?"bg-stone-100 border border-stone-300":"bg-stone-50 border border-stone-200"),children:[(0,a.jsx)("p",{className:"mb-1 text-xs font-medium text-stone-600",children:s}),(0,a.jsx)("p",{className:"text-sm text-stone-900",children:t})]})})}}}]);