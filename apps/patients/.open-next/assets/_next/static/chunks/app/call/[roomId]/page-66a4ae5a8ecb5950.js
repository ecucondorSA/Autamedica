(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[114],{1778:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(1111);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:h="",children:o,iconNode:c,...u}=e;return(0,r.createElement)("svg",{ref:t,...d,width:s,height:s,stroke:a,strokeWidth:n?24*Number(l)/Number(s):l,className:i("lucide",h),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...c.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(o)?o:[o]])}),n=(e,t)=>{let a=(0,r.forwardRef)((a,d)=>{let{className:n,...h}=a;return(0,r.createElement)(l,{ref:d,iconNode:t,className:i("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...h})});return a.displayName=s(e),a}},1859:(e,t,a)=>{Promise.resolve().then(a.bind(a,5958))},3005:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1778).A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},4385:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1778).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},5209:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1778).A)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},5289:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1778).A)("mic-off",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]])},5629:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1778).A)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]])},5810:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1778).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},5958:(e,t,a)=>{"use strict";a.d(t,{CallPageClient:()=>h});var r=a(3919),s=a(1111),i=a(4336),d=a(4216),l=a(438);let n="true"===(0,a(5129).XK)("NEXT_PUBLIC_REQUIRE_AUTH","false");function h(e){let{roomId:t}=e;return(0,r.jsx)(l.OJ,{children:(0,r.jsx)(o,{roomId:t})})}function o(e){let{roomId:t}=e,a=(0,i.useRouter)(),{session:h,loading:o}=(0,l.As)(),[c,u]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{if(!o){if(!h)return void(n?a.push("/auth/login?redirect=/call/"+t):(console.warn("[UnifiedVideoCall][patient] sin sesi\xf3n; usando identidad de desarrollo"),u(!0)));if("patient"!==h.user.role)return void a.push("/");u(!0)}},[h,o,a,t]),o||!c)return(0,r.jsx)("div",{className:"min-h-screen bg-[#161b22] flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4fd1c5] mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-white",children:"Preparando videollamada..."})]})});let{userId:p,userName:v}=(0,s.useMemo)(()=>h?{userId:h.user.id,userName:h.user.email||"Paciente"}:{userId:"dev-patient-".concat(t),userName:"Paciente de prueba"},[h,t]);return(0,r.jsx)("div",{className:"min-h-screen bg-[#161b22] overflow-hidden",children:(0,r.jsx)(d.Ql,{roomId:t,userId:p,userType:"patient",userName:v,theme:"patient",onCallEnd:()=>{a.push("/appointments")},onCallStart:()=>{},onStatusChange:e=>{},onError:e=>{console.error("[UnifiedVideoCall][patient] error:",e)},className:"h-screen"})})}},6667:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1778).A)("screen-share-off",[["path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3",key:"i8wdob"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]])},6778:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1778).A)("phone-off",[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]])},7737:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1778).A)("video-off",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},7944:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1778).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9048:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1778).A)("screen-share",[["path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3",key:"i8wdob"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m17 8 5-5",key:"fqif7o"}],["path",{d:"M17 3h5v5",key:"1o3tu8"}]])}},e=>{e.O(0,[613,896,129,438,216,554,829,358],()=>e(e.s=1859)),_N_E=e.O()}]);