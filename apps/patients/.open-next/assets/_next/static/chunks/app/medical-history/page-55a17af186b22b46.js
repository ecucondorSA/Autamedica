(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{649:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var i=s(8122),a=s(4050);function r(e){let{timeline:t,className:s=""}=e,[r,n]=(0,a.useState)("all"),[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),m=(()=>{let e=[];return t.sections.conditions.forEach(t=>{e.push({id:t.id,type:"conditions",date:t.onset_date||t.created_at,title:t.name,description:t.notes||"Estado: ".concat(t.status),status:t.status,urgency:"severe"===t.severity?"high":"moderate"===t.severity?"medium":"low",data:t})}),t.sections.allergies.forEach(t=>{e.push({id:t.id,type:"allergies",date:t.onset_date||t.created_at,title:"Alergia: ".concat(t.allergen),description:t.reaction_description||"Tipo: ".concat(t.allergen_type),urgency:"life_threatening"===t.severity||"severe"===t.severity?"high":"medium",data:t})}),t.sections.medications.forEach(t=>{e.push({id:t.id,type:"medications",date:t.start_date,title:t.name,description:"".concat(t.dosage," - ").concat(t.frequency),status:t.status,urgency:"low",data:t})}),t.sections.procedures.forEach(t=>{e.push({id:t.id,type:"procedures",date:t.performed_date,title:t.name,description:t.indication||t.outcome||"",urgency:"medium",data:t})}),t.sections.encounters.forEach(t=>{e.push({id:t.id,type:"encounters",date:t.encounter_date,title:"Consulta: ".concat(t.encounter_type),description:t.chief_complaint||t.assessment||"",urgency:"emergency"===t.encounter_type?"high":"low",data:t})}),t.sections.immunizations.forEach(t=>{e.push({id:t.id,type:"immunizations",date:t.administration_date,title:"Vacuna: ".concat(t.vaccine_name),description:t.notes||"Dosis: ".concat(t.dose_number||1),urgency:"low",data:t})}),e.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())})(),h=m.filter(e=>{let t="all"===r||e.type===r,s=""===l||e.title.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase());return t&&s}),u=e=>{switch(e){case"conditions":return"\uD83E\uDE7A";case"allergies":return"⚠️";case"medications":return"\uD83D\uDC8A";case"procedures":return"\uD83C\uDFE5";case"encounters":return"\uD83D\uDC69‍⚕️";case"immunizations":return"\uD83D\uDC89";default:return"\uD83D\uDCCB"}},x=e=>new Date(e).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}),p=[{key:"all",label:"Todos",count:m.length},{key:"conditions",label:"Condiciones",count:t.sections.conditions.length},{key:"allergies",label:"Alergias",count:t.sections.allergies.length},{key:"medications",label:"Medicamentos",count:t.sections.medications.length},{key:"procedures",label:"Procedimientos",count:t.sections.procedures.length},{key:"encounters",label:"Consultas",count:t.sections.encounters.length},{key:"immunizations",label:"Vacunas",count:t.sections.immunizations.length}];return(0,i.jsxs)("div",{className:"w-full space-y-6 ".concat(s),children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"text",placeholder:"Buscar en historia cl\xednica...",value:l,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 bg-black/20 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:border-white/40 focus:ring-2 focus:ring-white/20"}),(0,i.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/40",children:"\uD83D\uDD0D"})]}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:p.map(e=>(0,i.jsxs)("button",{onClick:()=>n(e.key),className:"px-3 py-2 rounded-full text-sm font-medium transition-colors ".concat(r===e.key?"bg-white text-black":"bg-white/10 text-white hover:bg-white/20"),children:[e.label," (",e.count,")"]},e.key))})]}),(0,i.jsx)("div",{className:"space-y-4",children:0===h.length?(0,i.jsxs)("div",{className:"text-center py-12 text-white/60",children:[(0,i.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCCB"}),(0,i.jsx)("p",{className:"text-lg",children:"No se encontraron registros"}),(0,i.jsx)("p",{className:"text-sm",children:"Intenta cambiar los filtros o el t\xe9rmino de b\xfasqueda"})]}):h.map((e,t)=>(0,i.jsxs)("div",{className:"relative",children:[t<h.length-1&&(0,i.jsx)("div",{className:"absolute left-6 top-12 h-full w-0.5 bg-white/20"}),(0,i.jsxs)("div",{className:"relative flex items-start space-x-4 p-4 rounded-lg border backdrop-blur-sm cursor-pointer transition-all hover:bg-white/5 ".concat((e=>{switch(e){case"high":return"border-red-500 bg-red-500/10";case"medium":return"border-yellow-500 bg-yellow-500/10";case"low":return"border-green-500 bg-green-500/10";default:return"border-gray-500 bg-gray-500/10"}})(e.urgency)),onClick:()=>d(e),children:[(0,i.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-black/30 rounded-full flex items-center justify-center border border-white/20",children:(0,i.jsx)("span",{className:"text-xl",children:u(e.type)})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,i.jsx)("h3",{className:"text-white font-medium truncate",children:e.title}),(0,i.jsx)("span",{className:"text-white/60 text-sm flex-shrink-0 ml-2",children:x(e.date)})]}),(0,i.jsx)("p",{className:"text-white/80 text-sm leading-relaxed",children:e.description}),e.status&&(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status||"under_treatment"===e.status?"bg-green-500/20 text-green-400":"resolved"===e.status||"completed"===e.status?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"),children:e.status})})]}),"high"===e.urgency&&(0,i.jsx)("div",{className:"flex-shrink-0 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]})]},e.id))}),c&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,i.jsx)("div",{className:"bg-black/90 border border-white/20 rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("span",{className:"text-2xl",children:u(c.type)}),(0,i.jsx)("h2",{className:"text-xl font-semibold text-white",children:c.title})]}),(0,i.jsx)("button",{onClick:()=>d(null),className:"text-white/60 hover:text-white transition-colors text-2xl",children:"\xd7"})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white/60 mb-1",children:"Fecha"}),(0,i.jsx)("p",{className:"text-white",children:x(c.date)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white/60 mb-1",children:"Descripci\xf3n"}),(0,i.jsx)("p",{className:"text-white leading-relaxed",children:c.description})]}),c.status&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white/60 mb-1",children:"Estado"}),(0,i.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium ".concat("active"===c.status||"under_treatment"===c.status?"bg-green-500/20 text-green-400":"resolved"===c.status||"completed"===c.status?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"),children:c.status})]}),"medications"===c.type&&c.data.indication&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white/60 mb-1",children:"Indicaci\xf3n"}),(0,i.jsx)("p",{className:"text-white",children:c.data.indication})]}),"allergies"===c.type&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white/60 mb-1",children:"Severidad"}),(0,i.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium ".concat("life_threatening"===c.data.severity||"severe"===c.data.severity?"bg-red-500/20 text-red-400":"moderate"===c.data.severity?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"),children:c.data.severity})]})]}),(0,i.jsx)("div",{className:"mt-6 pt-4 border-t border-white/20 text-right",children:(0,i.jsx)("button",{onClick:()=>d(null),className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",children:"Cerrar"})})]})})})]})}function n(e){var t;let{summary:s,className:a=""}=e;return(0,i.jsxs)("div",{className:"w-full space-y-6 ".concat(a),children:[(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"Condiciones Activas",value:s.active_conditions_count,icon:"\uD83E\uDE7A",color:s.active_conditions_count>3?"border-red-500 bg-red-500/10":"border-blue-500 bg-blue-500/10",description:"".concat(s.active_conditions_count," condiciones requieren seguimiento")},{title:"Medicamentos Activos",value:s.active_medications_count,icon:"\uD83D\uDC8A",color:"border-green-500 bg-green-500/10",description:"".concat(s.active_medications_count," medicamentos en curso")},{title:"Alergias Conocidas",value:s.known_allergies_count,icon:"⚠️",color:s.known_allergies_count>0?"border-yellow-500 bg-yellow-500/10":"border-gray-500 bg-gray-500/10",description:s.known_allergies_count>0?"Revisar antes de prescribir":"Sin alergias reportadas"},{title:"\xdaltima Consulta",value:(t=s.last_encounter_date)?new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}):"Sin datos",icon:"\uD83D\uDCC5",color:"border-purple-500 bg-purple-500/10",description:s.last_encounter_date?"Fecha de \xfaltima atenci\xf3n":"Sin consultas registradas"}].map((e,t)=>(0,i.jsxs)("div",{className:"p-4 rounded-lg border backdrop-blur-sm ".concat(e.color),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsx)("span",{className:"text-2xl",children:e.icon}),(0,i.jsx)("div",{className:"text-right",children:(0,i.jsx)("div",{className:"text-2xl font-bold text-white",children:(e.value,e.value)})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium text-white text-sm mb-1",children:e.title}),(0,i.jsx)("p",{className:"text-white/70 text-xs",children:e.description})]})]},t))}),(s.critical_allergies.length>0||s.chronic_conditions.length>0)&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center",children:[(0,i.jsx)("span",{className:"mr-2",children:"\uD83D\uDEA8"}),"Informaci\xf3n Cr\xedtica"]}),s.critical_allergies.length>0&&(0,i.jsxs)("div",{className:"p-4 rounded-lg border border-red-500 bg-red-500/10 backdrop-blur-sm",children:[(0,i.jsxs)("h3",{className:"font-medium text-red-300 mb-2 flex items-center",children:[(0,i.jsx)("span",{className:"mr-2",children:"⚠️"}),"Alergias Cr\xedticas"]}),(0,i.jsx)("div",{className:"space-y-1",children:s.critical_allergies.map((e,t)=>(0,i.jsxs)("div",{className:"text-red-200 text-sm",children:["• ",e]},t))})]}),s.chronic_conditions.length>0&&(0,i.jsxs)("div",{className:"p-4 rounded-lg border border-orange-500 bg-orange-500/10 backdrop-blur-sm",children:[(0,i.jsxs)("h3",{className:"font-medium text-orange-300 mb-2 flex items-center",children:[(0,i.jsx)("span",{className:"mr-2",children:"\uD83D\uDD04"}),"Condiciones Cr\xf3nicas"]}),(0,i.jsx)("div",{className:"space-y-1",children:s.chronic_conditions.map((e,t)=>(0,i.jsxs)("div",{className:"text-orange-200 text-sm",children:["• ",e]},t))})]})]}),s.current_medications.length>0&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center",children:[(0,i.jsx)("span",{className:"mr-2",children:"\uD83D\uDC8A"}),"Medicamentos Actuales"]}),(0,i.jsx)("div",{className:"p-4 rounded-lg border border-green-500 bg-green-500/10 backdrop-blur-sm",children:(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.current_medications.map((e,t)=>(0,i.jsxs)("div",{className:"text-green-200 text-sm p-2 rounded bg-black/20",children:["• ",e]},t))})})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center",children:[(0,i.jsx)("span",{className:"mr-2",children:"⚡"}),"Acciones R\xe1pidas"]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsx)("button",{className:"p-4 rounded-lg border border-white/20 bg-white/5 hover:bg-white/10 transition-colors text-left",children:(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCDD"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium text-white",children:"Actualizar Historia"}),(0,i.jsx)("p",{className:"text-white/60 text-sm",children:"Agregar nueva informaci\xf3n m\xe9dica"})]})]})}),(0,i.jsx)("button",{className:"p-4 rounded-lg border border-white/20 bg-white/5 hover:bg-white/10 transition-colors text-left",children:(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCC4"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium text-white",children:"Generar Resumen"}),(0,i.jsx)("p",{className:"text-white/60 text-sm",children:"Crear resumen para m\xe9dico"})]})]})}),(0,i.jsx)("button",{className:"p-4 rounded-lg border border-white/20 bg-white/5 hover:bg-white/10 transition-colors text-left",children:(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCA"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium text-white",children:"Ver Completa"}),(0,i.jsx)("p",{className:"text-white/60 text-sm",children:"Historia cl\xednica detallada"})]})]})})]})]}),(0,i.jsxs)("div",{className:"p-6 rounded-lg border border-white/20 bg-white/5 backdrop-blur-sm",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Estado de Salud General"}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-green-400",children:"Estable"}),(0,i.jsx)("div",{className:"text-sm text-white/60",children:"\xdaltimo an\xe1lisis"})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,i.jsx)("span",{className:"text-white/70",children:"Riesgo cardiovascular"}),(0,i.jsx)("span",{className:"text-green-400",children:"Bajo"})]}),(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,i.jsx)("span",{className:"text-white/70",children:"Cumplimiento medicamentos"}),(0,i.jsx)("span",{className:"text-green-400",children:"Alto"})]}),(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,i.jsx)("span",{className:"text-white/70",children:"Control rutinario"}),(0,i.jsx)("span",{className:"text-yellow-400",children:"Pendiente"})]})]}),(0,i.jsx)("div",{className:"mt-4 pt-4 border-t border-white/20",children:(0,i.jsx)("p",{className:"text-white/70 text-sm",children:"Tu estado de salud general es estable. Se recomienda mantener el seguimiento m\xe9dico regular y el cumplimiento del tratamiento actual."})})]})]})}function l(e){let{onSubmit:t,className:s=""}=e,[r,n]=(0,a.useState)(0),[l,o]=(0,a.useState)({personalHistory:{conditions:[],allergies:[],medications:[],surgeries:[]},familyHistory:[],socialHistory:{smoking:"never",alcohol:"never",exercise:"sedentary",diet:"fair",occupation:"",stress:"moderate"},reviewOfSystems:{}}),c=[{title:"Historia Personal",icon:"\uD83C\uDFE5"},{title:"Historia Familiar",icon:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66"},{title:"Historia Social",icon:"\uD83C\uDF0D"},{title:"Revisi\xf3n por Sistemas",icon:"\uD83D\uDD0D"},{title:"Resumen",icon:"\uD83D\uDCCB"}],d=()=>{t(l)},m=e=>{let t={patient_id:"",name:"",status:"active",is_chronic:!1,is_family_history:"family"===e,family_relationship:"family"===e?"mother":void 0};"personal"===e?o(e=>({...e,personalHistory:{...e.personalHistory,conditions:[...e.personalHistory.conditions,t]}})):o(e=>({...e,familyHistory:[...e.familyHistory,t]}))},h=()=>{let e={patient_id:"",allergen:"",allergen_type:"medication",severity:"mild"};o(t=>({...t,personalHistory:{...t.personalHistory,allergies:[...t.personalHistory.allergies,e]}}))};return(0,i.jsxs)("div",{className:"w-full max-w-4xl mx-auto space-y-6 ".concat(s),children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm text-white/60",children:[(0,i.jsx)("span",{children:"Progreso"}),(0,i.jsxs)("span",{children:[r+1," de ",c.length]})]}),(0,i.jsx)("div",{className:"w-full bg-black/20 rounded-full h-2",children:(0,i.jsx)("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:"".concat((r+1)/c.length*100,"%")}})})]}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map((e,t)=>(0,i.jsxs)("button",{onClick:()=>n(t),className:"px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat(r===t?"bg-white text-black":t<r?"bg-green-500/20 text-green-400":"bg-white/10 text-white/60"),children:[(0,i.jsx)("span",{className:"mr-2",children:e.icon}),e.title]},t))}),(0,i.jsxs)("div",{className:"p-6 bg-black/20 rounded-lg border border-white/10 backdrop-blur-sm",children:[(0,i.jsxs)("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center",children:[(0,i.jsx)("span",{className:"mr-3 text-2xl",children:c[r].icon}),c[r].title]}),(()=>{switch(r){case 0:default:return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-white",children:"Condiciones M\xe9dicas"}),(0,i.jsx)("button",{onClick:()=>m("personal"),className:"px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded text-sm transition-colors",children:"+ Agregar"})]}),(0,i.jsx)("div",{className:"space-y-3",children:l.personalHistory.conditions.map((e,t)=>(0,i.jsx)("div",{className:"p-4 bg-black/20 rounded-lg border border-white/10",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,i.jsx)("input",{type:"text",placeholder:"Nombre de la condici\xf3n",value:e.name,onChange:e=>{let s=[...l.personalHistory.conditions];s[t].name=e.target.value,o(e=>({...e,personalHistory:{...e.personalHistory,conditions:s}}))},className:"px-3 py-2 bg-black/20 border border-white/20 rounded text-white placeholder-white/60 focus:outline-none focus:border-white/40"}),(0,i.jsxs)("select",{value:e.status,onChange:e=>{let s=[...l.personalHistory.conditions];s[t].status=e.target.value,o(e=>({...e,personalHistory:{...e.personalHistory,conditions:s}}))},className:"px-3 py-2 bg-black/20 border border-white/20 rounded text-white focus:outline-none focus:border-white/40",children:[(0,i.jsx)("option",{value:"active",children:"Activa"}),(0,i.jsx)("option",{value:"resolved",children:"Resuelta"}),(0,i.jsx)("option",{value:"chronic",children:"Cr\xf3nica"}),(0,i.jsx)("option",{value:"under_treatment",children:"En Tratamiento"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",checked:e.is_chronic,onChange:e=>{let s=[...l.personalHistory.conditions];s[t].is_chronic=e.target.checked,o(e=>({...e,personalHistory:{...e.personalHistory,conditions:s}}))},className:"rounded"}),(0,i.jsx)("label",{className:"text-white text-sm",children:"Cr\xf3nica"})]})]})},t))})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-white",children:"Alergias"}),(0,i.jsx)("button",{onClick:h,className:"px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded text-sm transition-colors",children:"+ Agregar"})]}),(0,i.jsx)("div",{className:"space-y-3",children:l.personalHistory.allergies.map((e,t)=>(0,i.jsx)("div",{className:"p-4 bg-black/20 rounded-lg border border-white/10",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,i.jsx)("input",{type:"text",placeholder:"Al\xe9rgeno",value:e.allergen,onChange:e=>{let s=[...l.personalHistory.allergies];s[t].allergen=e.target.value,o(e=>({...e,personalHistory:{...e.personalHistory,allergies:s}}))},className:"px-3 py-2 bg-black/20 border border-white/20 rounded text-white placeholder-white/60 focus:outline-none focus:border-white/40"}),(0,i.jsxs)("select",{value:e.allergen_type,onChange:e=>{let s=[...l.personalHistory.allergies];s[t].allergen_type=e.target.value,o(e=>({...e,personalHistory:{...e.personalHistory,allergies:s}}))},className:"px-3 py-2 bg-black/20 border border-white/20 rounded text-white focus:outline-none focus:border-white/40",children:[(0,i.jsx)("option",{value:"medication",children:"Medicamento"}),(0,i.jsx)("option",{value:"food",children:"Alimento"}),(0,i.jsx)("option",{value:"environmental",children:"Ambiental"}),(0,i.jsx)("option",{value:"other",children:"Otro"})]}),(0,i.jsxs)("select",{value:e.severity,onChange:e=>{let s=[...l.personalHistory.allergies];s[t].severity=e.target.value,o(e=>({...e,personalHistory:{...e.personalHistory,allergies:s}}))},className:"px-3 py-2 bg-black/20 border border-white/20 rounded text-white focus:outline-none focus:border-white/40",children:[(0,i.jsx)("option",{value:"mild",children:"Leve"}),(0,i.jsx)("option",{value:"moderate",children:"Moderada"}),(0,i.jsx)("option",{value:"severe",children:"Severa"}),(0,i.jsx)("option",{value:"life_threatening",children:"Mortal"})]})]})},t))})]})]});case 1:return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-white",children:"Historia Familiar"}),(0,i.jsx)("button",{onClick:()=>m("family"),className:"px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded text-sm transition-colors",children:"+ Agregar"})]}),(0,i.jsx)("div",{className:"space-y-3",children:l.familyHistory.map((e,t)=>(0,i.jsx)("div",{className:"p-4 bg-black/20 rounded-lg border border-white/10",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,i.jsx)("input",{type:"text",placeholder:"Condici\xf3n m\xe9dica",value:e.name,onChange:e=>{let s=[...l.familyHistory];s[t].name=e.target.value,o(e=>({...e,familyHistory:s}))},className:"px-3 py-2 bg-black/20 border border-white/20 rounded text-white placeholder-white/60 focus:outline-none focus:border-white/40"}),(0,i.jsxs)("select",{value:e.family_relationship||"mother",onChange:e=>{let s=[...l.familyHistory];s[t].family_relationship=e.target.value,o(e=>({...e,familyHistory:s}))},className:"px-3 py-2 bg-black/20 border border-white/20 rounded text-white focus:outline-none focus:border-white/40",children:[(0,i.jsx)("option",{value:"mother",children:"Madre"}),(0,i.jsx)("option",{value:"father",children:"Padre"}),(0,i.jsx)("option",{value:"sibling",children:"Hermano/a"}),(0,i.jsx)("option",{value:"grandparent",children:"Abuelo/a"}),(0,i.jsx)("option",{value:"aunt_uncle",children:"T\xedo/a"}),(0,i.jsx)("option",{value:"cousin",children:"Primo/a"})]})]})},t))})]});case 2:return(0,i.jsx)("div",{className:"space-y-6",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tabaquismo"}),(0,i.jsxs)("select",{value:l.socialHistory.smoking,onChange:e=>o(t=>({...t,socialHistory:{...t.socialHistory,smoking:e.target.value}})),className:"w-full px-3 py-2 bg-black/20 border border-white/20 rounded text-white focus:outline-none focus:border-white/40",children:[(0,i.jsx)("option",{value:"never",children:"Nunca"}),(0,i.jsx)("option",{value:"former",children:"Ex-fumador"}),(0,i.jsx)("option",{value:"current",children:"Fumador actual"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Alcohol"}),(0,i.jsxs)("select",{value:l.socialHistory.alcohol,onChange:e=>o(t=>({...t,socialHistory:{...t.socialHistory,alcohol:e.target.value}})),className:"w-full px-3 py-2 bg-black/20 border border-white/20 rounded text-white focus:outline-none focus:border-white/40",children:[(0,i.jsx)("option",{value:"never",children:"Nunca"}),(0,i.jsx)("option",{value:"occasional",children:"Ocasional"}),(0,i.jsx)("option",{value:"regular",children:"Regular"}),(0,i.jsx)("option",{value:"excessive",children:"Excesivo"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Ejercicio"}),(0,i.jsxs)("select",{value:l.socialHistory.exercise,onChange:e=>o(t=>({...t,socialHistory:{...t.socialHistory,exercise:e.target.value}})),className:"w-full px-3 py-2 bg-black/20 border border-white/20 rounded text-white focus:outline-none focus:border-white/40",children:[(0,i.jsx)("option",{value:"sedentary",children:"Sedentario"}),(0,i.jsx)("option",{value:"light",children:"Ligero"}),(0,i.jsx)("option",{value:"moderate",children:"Moderado"}),(0,i.jsx)("option",{value:"intense",children:"Intenso"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Dieta"}),(0,i.jsxs)("select",{value:l.socialHistory.diet,onChange:e=>o(t=>({...t,socialHistory:{...t.socialHistory,diet:e.target.value}})),className:"w-full px-3 py-2 bg-black/20 border border-white/20 rounded text-white focus:outline-none focus:border-white/40",children:[(0,i.jsx)("option",{value:"poor",children:"Pobre"}),(0,i.jsx)("option",{value:"fair",children:"Regular"}),(0,i.jsx)("option",{value:"good",children:"Buena"}),(0,i.jsx)("option",{value:"excellent",children:"Excelente"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Ocupaci\xf3n"}),(0,i.jsx)("input",{type:"text",value:l.socialHistory.occupation,onChange:e=>o(t=>({...t,socialHistory:{...t.socialHistory,occupation:e.target.value}})),className:"w-full px-3 py-2 bg-black/20 border border-white/20 rounded text-white placeholder-white/60 focus:outline-none focus:border-white/40",placeholder:"Trabajo o profesi\xf3n"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Nivel de Estr\xe9s"}),(0,i.jsxs)("select",{value:l.socialHistory.stress,onChange:e=>o(t=>({...t,socialHistory:{...t.socialHistory,stress:e.target.value}})),className:"w-full px-3 py-2 bg-black/20 border border-white/20 rounded text-white focus:outline-none focus:border-white/40",children:[(0,i.jsx)("option",{value:"low",children:"Bajo"}),(0,i.jsx)("option",{value:"moderate",children:"Moderado"}),(0,i.jsx)("option",{value:"high",children:"Alto"})]})]})]})});case 3:return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)("p",{className:"text-white/70",children:"Selecciona los s\xedntomas que has experimentado recientemente:"}),(0,i.jsx)("div",{className:"text-white/60 text-center py-8",children:(0,i.jsx)("p",{children:"Revisi\xf3n por sistemas - Funcionalidad por implementar"})})]});case 4:return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-white",children:"Resumen de Anamnesis"}),(0,i.jsx)("div",{className:"space-y-4",children:(0,i.jsxs)("div",{className:"p-4 bg-black/20 rounded-lg border border-white/10",children:[(0,i.jsxs)("h4",{className:"font-medium text-white mb-2",children:["Condiciones M\xe9dicas: ",l.personalHistory.conditions.length]}),(0,i.jsxs)("h4",{className:"font-medium text-white mb-2",children:["Alergias: ",l.personalHistory.allergies.length]}),(0,i.jsxs)("h4",{className:"font-medium text-white mb-2",children:["Historia Familiar: ",l.familyHistory.length," condiciones"]})]})}),(0,i.jsx)("button",{onClick:d,className:"w-full py-3 bg-white text-black font-medium rounded-lg hover:bg-white/90 transition-colors",children:"Completar Anamnesis"})]})}})()]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("button",{onClick:()=>{r>0&&n(r-1)},disabled:0===r,className:"px-6 py-2 bg-white/10 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/20 transition-colors",children:"Anterior"}),r<c.length-1&&(0,i.jsx)("button",{onClick:()=>{r<c.length-1&&n(r+1)},className:"px-6 py-2 bg-white text-black rounded-lg hover:bg-white/90 transition-colors",children:"Siguiente"})]})]})}let o={patient_id:"patient-1",active_conditions_count:2,active_medications_count:3,known_allergies_count:1,last_encounter_date:"2024-01-15T10:00:00Z",chronic_conditions:["Hipertensi\xf3n Arterial","Diabetes Tipo 2"],critical_allergies:["Penicilina"],current_medications:["Lisinopril 10mg","Metformina 500mg","Aspirina 100mg"]},c={patient_id:"patient-1",sections:{conditions:[{id:"cond-1",patient_id:"patient-1",name:"Hipertensi\xf3n Arterial",status:"under_treatment",onset_date:"2023-06-15T00:00:00Z",notes:"Detectada en control rutinario. Responde bien al tratamiento.",is_chronic:!0,is_family_history:!1,severity:"moderate",recorded_by:"dr-garcia",created_at:"2023-06-15T00:00:00Z",updated_at:"2024-01-15T00:00:00Z"},{id:"cond-2",patient_id:"patient-1",name:"Diabetes Tipo 2",status:"active",onset_date:"2022-03-10T00:00:00Z",notes:"Bien controlada con medicaci\xf3n y dieta.",is_chronic:!0,is_family_history:!1,severity:"moderate",recorded_by:"dr-martinez",created_at:"2022-03-10T00:00:00Z",updated_at:"2024-01-10T00:00:00Z"}],allergies:[{id:"allergy-1",patient_id:"patient-1",allergen:"Penicilina",allergen_type:"medication",severity:"severe",reaction_description:"Erupci\xf3n cut\xe1nea severa y dificultad respiratoria",onset_date:"2020-08-20T00:00:00Z",notes:"Alergia confirmada. Evitar penicilina y derivados.",is_verified:!0,recorded_by:"dr-lopez",created_at:"2020-08-20T00:00:00Z",updated_at:"2020-08-20T00:00:00Z"}],medications:[{id:"med-1",patient_id:"patient-1",name:"Lisinopril",dosage:"10mg",frequency:"Una vez al d\xeda",route:"Oral",status:"active",start_date:"2023-06-15T00:00:00Z",indication:"Hipertensi\xf3n arterial",prescribing_doctor:"dr-garcia",notes:"Tomar por la ma\xf1ana con el desayuno",is_self_reported:!1,created_at:"2023-06-15T00:00:00Z",updated_at:"2024-01-15T00:00:00Z"},{id:"med-2",patient_id:"patient-1",name:"Metformina",dosage:"500mg",frequency:"Dos veces al d\xeda",route:"Oral",status:"active",start_date:"2022-03-10T00:00:00Z",indication:"Diabetes tipo 2",prescribing_doctor:"dr-martinez",notes:"Con las comidas principales",is_self_reported:!1,created_at:"2022-03-10T00:00:00Z",updated_at:"2024-01-10T00:00:00Z"}],procedures:[{id:"proc-1",patient_id:"patient-1",name:"Electrocardiograma",performed_date:"2024-01-15T00:00:00Z",performed_by:"Dr. Garc\xeda",indication:"Control rutinario por hipertensi\xf3n",outcome:"Normal",notes:"ECG sin alteraciones significativas",recorded_by:"dr-garcia",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-01-15T00:00:00Z"}],encounters:[{id:"enc-1",patient_id:"patient-1",encounter_type:"consultation",encounter_date:"2024-01-15T10:00:00Z",chief_complaint:"Control rutinario",present_illness:"Paciente asintom\xe1tico, acude para control.",assessment:"Hipertensi\xf3n y diabetes bien controladas",plan:"Continuar tratamiento actual, control en 3 meses",attending_doctor:"dr-garcia",location:"Consultorio 205",duration_minutes:30,notes:"Paciente adherente al tratamiento",created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z"}],immunizations:[{id:"imm-1",patient_id:"patient-1",vaccine_name:"Vacuna COVID-19",administration_date:"2023-10-15T00:00:00Z",dose_number:5,administered_by:"Enfermera Rodr\xedguez",site:"Brazo izquierdo",notes:"Refuerzo anual",recorded_by:"nurse-rodriguez",created_at:"2023-10-15T00:00:00Z",updated_at:"2023-10-15T00:00:00Z"}]}};function d(){let[e,t]=(0,a.useState)("summary"),[s,d]=(0,a.useState)(!1);return(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 p-4",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,i.jsxs)("div",{className:"text-center space-y-4",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-white",children:"\uD83D\uDCCB Historia Cl\xednica Completa"}),(0,i.jsx)("p",{className:"text-white/70 max-w-2xl mx-auto",children:"Gestiona y revisa tu historia m\xe9dica completa. Informaci\xf3n cr\xedtica para tu equipo m\xe9dico."})]}),(0,i.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,i.jsx)("button",{onClick:()=>t("summary"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("summary"===e?"bg-white text-black":"bg-white/10 text-white hover:bg-white/20"),children:"\uD83D\uDCCA Resumen"}),(0,i.jsx)("button",{onClick:()=>t("timeline"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("timeline"===e?"bg-white text-black":"bg-white/10 text-white hover:bg-white/20"),children:"\uD83D\uDCC5 Cronolog\xeda"}),(0,i.jsx)("button",{onClick:()=>t("anamnesis"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("anamnesis"===e?"bg-white text-black":"bg-white/10 text-white hover:bg-white/20"),children:"\uD83D\uDCDD Anamnesis"})]}),(0,i.jsxs)("div",{className:"flex flex-wrap justify-center gap-4",children:[(0,i.jsx)("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:"+ Actualizar Historia"}),(0,i.jsx)("button",{className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"\uD83D\uDCC4 Generar Resumen"}),(0,i.jsx)("button",{className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:"\uD83D\uDCE4 Compartir con M\xe9dico"})]}),(0,i.jsx)("div",{className:"space-y-6",children:s?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Nueva Anamnesis"}),(0,i.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",children:"Cancelar"})]}),(0,i.jsx)(l,{onSubmit:e=>{console.log("Anamnesis data submitted:",e),d(!1)}})]}):(0,i.jsxs)(i.Fragment,{children:["summary"===e&&(0,i.jsx)(n,{summary:o}),"timeline"===e&&(0,i.jsx)(r,{timeline:c}),"anamnesis"===e&&(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"text-center space-y-4",children:[(0,i.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"\uD83D\uDCDD Anamnesis M\xe9dica"}),(0,i.jsx)("p",{className:"text-white/70 max-w-2xl mx-auto",children:"La anamnesis es una herramienta fundamental para el diagn\xf3stico m\xe9dico. Proporciona informaci\xf3n valiosa sobre tus s\xedntomas, antecedentes y estado actual."})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"p-6 bg-black/20 rounded-lg border border-white/20 backdrop-blur-sm",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\uD83C\uDFAF Anamnesis Dirigida"}),(0,i.jsx)("p",{className:"text-white/70 mb-4",children:"Formulario estructurado para recopilar informaci\xf3n espec\xedfica sobre tus s\xedntomas y antecedentes."}),(0,i.jsx)("button",{onClick:()=>d(!0),className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Iniciar Anamnesis"})]}),(0,i.jsxs)("div",{className:"p-6 bg-black/20 rounded-lg border border-white/20 backdrop-blur-sm",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\uD83E\uDD16 Anamnesis con IA"}),(0,i.jsx)("p",{className:"text-white/70 mb-4",children:"Conversaci\xf3n natural con nuestra IA m\xe9dica para explorar tus s\xedntomas de forma intuitiva."}),(0,i.jsx)("button",{className:"w-full py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:"Hablar con ALTA"})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\uD83D\uDCDA Anamnesis Anteriores"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"p-4 bg-black/20 rounded-lg border border-white/20 backdrop-blur-sm",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsx)("h4",{className:"font-medium text-white",children:"Control Rutinario"}),(0,i.jsx)("span",{className:"text-white/60 text-sm",children:"15 Ene 2024"})]}),(0,i.jsx)("p",{className:"text-white/70 text-sm mb-3",children:"Evaluaci\xf3n completa sin s\xedntomas espec\xedficos. Control de condiciones cr\xf3nicas."}),(0,i.jsx)("button",{className:"w-full py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg text-sm transition-colors",children:"Ver Detalles"})]}),(0,i.jsxs)("div",{className:"p-4 bg-black/20 rounded-lg border border-white/20 backdrop-blur-sm",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsx)("h4",{className:"font-medium text-white",children:"S\xedntomas Digestivos"}),(0,i.jsx)("span",{className:"text-white/60 text-sm",children:"28 Dic 2023"})]}),(0,i.jsx)("p",{className:"text-white/70 text-sm mb-3",children:"Molestias abdominales intermitentes. Evaluaci\xf3n gastrointestinal."}),(0,i.jsx)("button",{className:"w-full py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg text-sm transition-colors",children:"Ver Detalles"})]}),(0,i.jsxs)("div",{className:"p-4 bg-black/20 rounded-lg border border-white/20 backdrop-blur-sm",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsx)("h4",{className:"font-medium text-white",children:"Evaluaci\xf3n Inicial"}),(0,i.jsx)("span",{className:"text-white/60 text-sm",children:"10 Mar 2022"})]}),(0,i.jsx)("p",{className:"text-white/70 text-sm mb-3",children:"Primera consulta. Establecimiento de historia cl\xednica base."}),(0,i.jsx)("button",{className:"w-full py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg text-sm transition-colors",children:"Ver Detalles"})]})]})]})]})]})}),(0,i.jsx)("div",{className:"text-center",children:(0,i.jsx)("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-lg font-medium transition-colors",children:"← Volver al Dashboard"})})]})})}},925:(e,t,s)=>{Promise.resolve().then(s.bind(s,649))}},e=>{e.O(0,[985,410,358],()=>e(e.s=925)),_N_E=e.O()}]);