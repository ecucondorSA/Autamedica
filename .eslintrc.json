{
  "root": true,
  "ignorePatterns": [
    "node_modules/",
    "dist/",
    "build/",
    ".next/",
    "out/",
    "coverage/",
    "**/*.tsbuildinfo",
    "**/.next/**",
    "**/dist/**",
    "**/build/**"
  ],
  "env": {
    "browser": true,
    "es2022": true
  },
  "overrides": [
    {
      "files": ["scripts/**/*.mjs", "scripts/**/*.js"],
      "env": {
        "node": true,
        "es2022": true
      },
      "rules": {
        "no-console": "off"
      }
    },
    {
      "files": ["**/*.ts", "**/*.tsx"],
      "parser": "@typescript-eslint/parser",
      "plugins": ["@typescript-eslint", "import", "react-hooks"],
      "rules": {
        "no-console": ["error", { "allow": ["warn", "error"] }],
        "@typescript-eslint/consistent-type-imports": [
          "error",
          { "prefer": "type-imports", "disallowTypeAnnotations": true }
        ],
        "@typescript-eslint/no-unused-vars": [
          "warn",
          { "argsIgnorePattern": "^_", "varsIgnorePattern": "^_" }
        ],
        "@typescript-eslint/no-explicit-any": "warn",
        "react-hooks/rules-of-hooks": "error",
        "react-hooks/exhaustive-deps": "warn",
        "import/order": [
          "error",
          {
            "groups": [["builtin", "external"], ["internal"], ["parent", "sibling", "index"]],
            "pathGroups": [
              { "pattern": "@autamedica/**", "group": "internal", "position": "before" }
            ],
            "pathGroupsExcludedImportTypes": ["builtin"]
          }
        ],
        "no-restricted-imports": [
          "error",
          { "patterns": ["@autamedica/*/src/*"] }
        ],
        "no-restricted-syntax": [
          "error",
          { "selector": "ExportAllDeclaration", "message": "Prohibido export *; usa barrels controlados" }
        ],
        "no-restricted-properties": [
          "error",
          {
            "object": "process",
            "property": "env",
            "message": "Usa @autamedica/shared/env.ensureEnv para acceder a variables"
          }
        ]
      }
    },
    {
      "files": ["apps/*/src/app/api/**/*.ts"],
      "rules": {
        "no-restricted-imports": [
          "error",
          {
            "patterns": [
              "node:",
              "fs",
              "path",
              "crypto",
              "stream",
              "os",
              "util",
              "ioredis",
              "redis",
              "mongoose"
            ]
          }
        ]
      }
    }
  ]
}