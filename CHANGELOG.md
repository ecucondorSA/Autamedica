# ğŸ“‹ Changelog

## [Unreleased]

### ğŸš€ Nuevas Funcionalidades
- 94dc705 âœ¨ feat(workflows): agregar deployment de Auth al workflow de producciÃ³n
- c0c28a5 feat(cloudflare): usar adapter oficial @cloudflare/next-on-pages
- 4afe632 feat: merge deploy/auth-cloudflare - configuraciÃ³n Cloudflare Pages
- 8adf8b5 feat(auth): nueva app de autenticaciÃ³n centralizada y migraciones BD
- ad1efdb feat: security hardening applied
- dd59a12 ğŸ” feat: Sistema de Roles Normalizado - organization_admin COMPLETO
- 2eb0dc3 feat: complete role system implementation with tests, seeds and CI/CD
- 0eebe76 feat(db): introduce organizations/org_members/user_roles with organization_admin role
- c5dc256 âœ¨ nova feature: smoke test AI/DX & CI
- 93b5a32 ğŸ¤– feat: sistema AI/DX enterprise - calidad + automatizaciÃ³n + IA
- 09fd555 âœ¨ nova feature: prueba de preview deployment smoke test
- 66233b6 feat: enhance telemedicine system with unified video calls and Next.js 15.5.4 upgrade
- a1ff8a0 feat: enhance telemedicine system with unified video calls and Next.js 15.5.4 upgrade
- 2b2582f feat: resolver problema UUID y implementar sistema mÃ©dico completo
- 804be13 feat: OAuth con PKCE y redirecciÃ³n a portales externos
- f5cb7c7 feat: Add comprehensive transactional schema and fix production errors
- e61cb55 feat: configuraciÃ³n completa para Cloudflare Pages
- 200dc13 feat: sistema de autenticaciÃ³n completo con RLS seguro
- 835df2a feat: configure Cloudflare Pages deployment for all apps
- 6c77cf3 feat: Add automatic sequential video playback for patient experiences
- db3e533 feat: Apply minimal stable Vercel template for monorepo deployment
- 1b737a5 feat: Configure multi-app deployment for doctors, patients, companies
- 64a5ae7 feat: Add Vercel deployment validation rules
- 46bd503 feat: Remove vercel.json for proper Turborepo auto-configuration
- b298aff feat: Add complete multi-app architecture with Vercel deployment
- b96c8ce feat: Complete multi-app architecture with full TypeScript resolution
- f180d43 feat: Complete AutaMedica UI redesign and authentication improvements
- 1963c5d feat: Comprehensive quality system + medical types + deployment fixes
- 7ce21a4 feat: Implement comprehensive validation infrastructure and multi-app architecture planning

### ğŸ”§ Mejoras y Optimizaciones
- cbea0fb ğŸ”§ fix(workflows): FASE 3 COMPLETA - Todos los fixes de deployment aplicados
- 44357bd ğŸ”§ fix(deployment): resolver errores deployment FASE 3 - web-app, auth, companies
- e0b1e46 ğŸ”§ fix(workflows): FASE 3 - Aislar build core y optimizar deployment
- 695de61 ğŸ”§ fix: aumentar memoria NODE_OPTIONS para ESLint
- 744c90c ğŸ”§ fix: agregar timeout 900s a prepush hooks
- f790a26 âš™ï¸ ops tarea: hardening de repositorio (calidad, seguridad y DX)
- df2d00e ğŸ”§ fix: corregir versiÃ³n PNPM en workflows de deployment
- 304603e âš™ï¸ ops tarea: agregar script de sincronizaciÃ³n de workflows + documentaciÃ³n
- 3759d86 âš™ï¸ ops tarea: limpieza y reorganizaciÃ³n completa de workflows
- 75e230a ğŸ”§ BATCH MASIVO: ResoluciÃ³n CI/CD + ESLint + TypeScript
- f788386 âš™ï¸ ops: Sistema validaciÃ³n contratos - Workflow GitHub Actions + PR template
- de92086 âš™ï¸ ops tarea: sistema completo CI/CD con glosario mÃ©dico y correcciones TypeScript
- 55b4e65 chore: monorepo lockfile single source - remove secondary lockfiles
- 120b40e chore: nuevo punto de partida Autamedica
- 67ace50 chore: remove editor cache artifacts
- 2c00bed chore: centralize vercel.json in monorepo root

### ğŸ› Correcciones
- 608f223 fix(deployment): configurar nodejs_compat en wrangler.toml correctamente
- 4f2aa59 fix(deployment): migrar de @cloudflare/next-on-pages a soporte nativo Next.js
- 81cfba5 fix(build): simplificar tsconfig telemedicine y agregar tsbuildinfo a turbo outputs
- 22c65b0 fix(packages): usar tsc --build para packages con composite:true
- 8509c70 fix(ci): corregir builds de Cloudflare Pages para todas las apps
- 27269c1 fix(auth): add edge runtime to all dynamic routes for Cloudflare Pages
- 6786e3c fix: FASE 3 - Correcciones CI/CD + Export Roles + Env Doctors
- b548348 fix(workflows): FASE 2 - corregir deployments automÃ¡ticos y security scans
- 9f5fa3d fix(build): configurar Node 20 LTS y script de diagnÃ³stico
- 4fb06f9 fix(workflows): configurar para pnpm en lugar de npm
- d6bc33c fix(workflows): actualizar PNPM a version 9.15.2
- 5b90ace fix(build): agregar telemedicine, ui, utils a build:packages:core
- 0b8be14 fix(cloudflare): corregir pages_build_output_dir a .next
- 86b854e fix(cloudflare): remover opennextjs-cloudflare que causa webpack errors
- cff06ab fix(web-app): agregar comando build a opennextjs-cloudflare
- 898f1fa fix(web-app): agregar opennextjs-cloudflare al build:cloudflare
- c5f6923 fix(web-app): remover rutas /api/ que causan error en build Next.js
- d115340 fix(web-app): cambiar --no-deps por --only en build:cloudflare (turbo 2.5.6)
- fe0a414 fix(web-app): actualizar build:cloudflare script
- 5714118 fix(cloudflare): remover [build] de wrangler.toml (no soportado en Pages)
- 87e5a3c fix(cloudflare): build command para web-app solo (evita build de otras apps)
- dca2d47 fix(auth): variable error no usada en catch block
- 9ad3254 fix(auth): reemplazar process.env con ensureEnv en routes API
- 781e5cc fix(lint): corregir errores y warnings en auth y web-app
- db274cc fix(gsap-carousel): dots controlan navegaciÃ³n y se sincronizan con ScrollTrigger
- fdb078e fix: add missing organization_admin role to role selection form
- e490b33 fix: enable composite mode for auth package
- b317121 fix(ci): resolve memory and build order pipeline issues
- 559adeb fix: Resolver todos los errores TypeScript y ESLint en doctors app
- d441315 ğŸ› fix: Reordenar pasos workflow - pnpm setup antes que Node.js
- 7fe4601 ğŸ› fix: Workflow validaciÃ³n contratos - npmâ†’pnpm + permisos GitHub
- b3410d6 fix: Resuelto error de gsap y TypeScript en componentes landing
- 53956fb fix: resolver errores de build y deployment exitoso
- b40110b fix: solucionar errores de producciÃ³n
- b94afe4 fix: use CI env var instead of is-ci package for Husky
- 3d7011e fix: make Husky conditional for CI environments
- a83c494 fix: regenerate pnpm-lock.yaml for Cloudflare compatibility
- 7d9d3c3 fix: add complete Vercel configuration with corepack for each app
- dfabb0c fix: Configure centralized vercel.json with proper rootDirectory for all apps
- 81181c3 TEMP: Disable middleware auth for debugging
- 512d4b7 fix(doctors): enforce production return urls
- fab522e fix: Restore correct Vercel configuration
- b7a78d0 fix: Move and update Vercel config to web-app directory
- 4cd862b fix: add missing authentication and legal pages to resolve 404 errors
- f46fa48 fix: improve text contrast across authentication pages for better visibility
- 35f4512 Fix ESLint errors: remove unused imports and variables, fix any types

### ğŸ”’ Seguridad
- c7cf4d8 security: remove hardcoded keys, unified role routing, secure cookies
- 7746094 ğŸ” ops tarea: configurar secrets de Cloudflare para deployments automÃ¡ticos

### ğŸ“š DocumentaciÃ³n
- c8ae1dc ğŸ“ docs: actualizar changelog automÃ¡tico
- d1a9828 ğŸ“ docs: actualizar changelog automÃ¡tico
- 5cdc35e ğŸ“ docs: actualizar changelog automÃ¡tico
- 34f232f ğŸ“ docs: actualizar changelog automÃ¡tico
- 2762307 ğŸ“ docs: actualizar changelog automÃ¡tico
- d91cc46 ğŸ“ docs: actualizar changelog automÃ¡tico
- b14a116 ğŸ“ docs: actualizar changelog automÃ¡tico
- 2b92f6d ğŸ“ docs: actualizar changelog automÃ¡tico
- f42ca64 ğŸ“ docs: actualizar changelog automÃ¡tico
- 09c928e ğŸ“ docs: actualizar changelog automÃ¡tico
- ea385da ğŸ“ docs: actualizar changelog automÃ¡tico
- 0c3f789 ğŸ“ docs: actualizar changelog automÃ¡tico
- e36e720 ğŸ“ docs: actualizar changelog automÃ¡tico
- 88688cb docs: anu00e1lisis completo GitHub Actions + Cloudflare Pages y plan de remediaciu00f3n
- fb31406 ğŸ“ docs: actualizar changelog automÃ¡tico
- 3e7465d docs(cloudflare): build command correcto para evitar build de todas las apps
- 082fc0c ğŸ“ docs: actualizar changelog automÃ¡tico
- 590e450 ğŸ“ docs: actualizar changelog automÃ¡tico
- 748318f ğŸ“ docs: actualizar changelog automÃ¡tico
- 4b4c006 ğŸ“ docs: actualizar changelog automÃ¡tico
- 22bb3d9 ğŸ“ docs: actualizar changelog automÃ¡tico
- 4755776 ğŸ“ docs: actualizar changelog automÃ¡tico
- d344ce6 ğŸ“ docs: actualizar changelog automÃ¡tico
- ebdf835 ğŸ“ docs: actualizar changelog automÃ¡tico
- 6875f3b ğŸ“ docs: actualizar changelog automÃ¡tico
- aba563e ğŸ“ docs: actualizar changelog automÃ¡tico
- 3317b33 docs: agregar guÃ­a completa de deployment para Cloudflare Pages
- 504a4f3 docs: link database glossary from GLOSARIO_MAESTRO
- 9cc0732 docs(db): glosario BD hÃ­brido (SQL parsing auto + HIPAA + ERD) â€“ CI gates
- 763583b ğŸ“š docs: agregar descripciÃ³n sistema AI/DX enterprise
- 9de99a6 ğŸ“‹ ops tarea: actualizar documentaciÃ³n con estado actual enterprise
- 6a23c0e ğŸ“ docs: batch masivo reviews + loadables (batch 7 final)
- 75821fe ğŸ“ docs: sincronizar validaciones mÃ©dicas y seguros (batch 6 acelerado)
- e08966a ğŸ“ docs: sincronizar utilidades mÃ©dicas avanzadas (batch 5/10)
- 98ec3bc ğŸ“ docs: sincronizar especialidades mÃ©dicas y telÃ©fonos avanzados (batch 4/10)
- ce86373 ğŸ“ docs: resolver tipos huÃ©rfanos - exportar branded types (batch 3/10)
- dc775bb ğŸ“ docs: sincronizar geografÃ­a y telÃ©fonos (batch 2/10)
- db9d1fa ğŸ“ docs: sincronizar fechas ISO, IDs y API responses (batch 1/10)
- 031c2ac ğŸ“ docs: plan de cobertura del glosario a partir de CI
- 7380fda rescue: document horizontal experience recovery
- c285245 docs: actualizar todos los README.md del monorepo
- 33090ae Fix doctors middleware - use env vars instead of hardcoded URLs
- 3b764bb Fix doctors middleware URLs to use Vercel deployment URLs
- 2310b10 docs: Update CLAUDE.md with complete Vercel multi-app deployment guide
- 67dfe8c docs: Update CLAUDE.md with authentication system documentation

### âš™ï¸ DevOps e Infraestructura
- 5cac123 ğŸ” ops tarea: token permanente Cloudflare configurado
- fc12463 trigger: force Cloudflare deployment refresh
- ad441ff Disable Dependabot - causing deployment congestion
- 59eaf0f Apply minimal stable Vercel template for monorepo deployment
- 28908e5 Fix: Override Vercel auto-install detection with explicit commands
- 70122db Fix: ConfiguraciÃ³n de deployment para Vercel con PNPM 9.15.2
- a960a88 Implementar Fase 0: Contratos base para autenticaciÃ³n
- c8c39ca Fix Vercel deployment with pnpm configuration
- d8a177e Fix Vercel deployment configuration for monorepo
- 86d7a1f Fix TypeScript errors for production deployment

---

### ğŸ”„ Otros Cambios
- 84b3426 Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- d23e61f Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- 3150767 Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- 1190f37 Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- 374adfd Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- 250a3cb trigger: test workflow corregido (FASE 2)
- 3feb2c7 Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- c225e9b Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- 6dc7fc5 Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- 5aed748 Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- ad04614 Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- 339ceec Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- b4c8dd2 Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- e4000f7 Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- 436566e Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- 058f2a7 Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- ef2217f Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- 92d1e5e Merge branch 'main' of https://github.com/ecucondorSA/Autamedica
- 5be4542 Merge branch 'staging'
- b53a903 Merge branch 'test/preview-check' into staging
- 50431ca ğŸ¯ META COMPLETADA: CI completamente verde (0 errores)
- 8b90de9 ğŸ§¹ clean cÃ³digo: remover archivo de test automatizado
- dbef5b4 ğŸ§ª tests: archivo dummy de prueba automatizada
- 1f75dfb ğŸ§ª tests: archivo dummy de prueba automatizada
- bb502a6 Fix Suspense boundary for useSearchParams in login page
- c225966 Fix auth redirect routes - change /dashboard to / for all apps
- 87a23fe Fix production auth redirect URLs for custom domains
- 7f699e0 Restore original AutaMedica dark theme login design
- 7da14c4 Fix authentication system and Next.js build errors
- 4252ae6 Fix: Remove conflicting auth callback page to resolve infinite redirect loop
- 2d3e7c9 Fix OAuth authentication flow and implement functional register form
- 10ae6f2 Fix role-based routing to always redirect to production URLs
- 76dcfad Fix Supabase authentication redirect URLs for production
- 2bbd078 Fix Vercel buildCommand to build packages before apps
- cf8ea51 Update cross-app URLs to match SSL certificate domains
- eb0c12b Apply minimal Vercel template with monorepo build configuration
- 4bce205 Fix: Update packageManager to pnpm@9.15.2 and remove .vercelignore
- 915422f Fix: Remove trailing commas from package.json files
- dd718da Fix: Remove engines.pnpm to prevent Vercel auto-detection
- d035ee3 Fix: Integrate install into buildCommand and ignore conflicting lockfile
- 2decece Fix: Add --no-frozen-lockfile to Vercel install commands
- e52b6f0 Fix outputDirectory path in vercel.json
- 2c11e8a Add vercel.json for monorepo build configuration
- 27740fb Clean up vercel.json files - let Vercel auto-detect Next.js
- 8f2ee31 Fix final NODE_ENV client-side access in env.ts
- faac46d Fix all client-side NEXT_PUBLIC environment variable access
- 985ae3e Fix client-side NODE_ENV errors

*Generado automÃ¡ticamente el 2025-10-01 05:43:04*
